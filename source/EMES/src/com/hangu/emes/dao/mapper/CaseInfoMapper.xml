<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"
                "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">
<mapper namespace="com.hangu.emes.dao.mapper.CaseInfoMapper">

	<insert id="insert" parameterType="com.hangu.emes.entity.CaseInfo">
		INSERT INTO
		CASE_INFO(
			ID,VERSION,PI_ID,PROCESS_LAUNCH_ID,PROCESS_DEPLOY_ID,NAME,REPORTTIME,OWNER,LOCATION,DESCRIPTION,CREATE_DATE,CREATE_BY,UPDATE_BY,UPDATE_DATE,STATUS
		)
		VALUES(#{id},0,#{processInstanceId},#{processLaunchId},#{processDeployId},#{name},#{reportTime},#{owner},#{location},#{description},#{createDate},#{createBy},#{updateBy},#{updateDate},#{status})
	</insert>
	
	<insert id="update" parameterType="com.hangu.emes.entity.CaseInfo">
		UPDATE CASE_INFO
		SET
			PI_ID=#{processInstanceId},PROCESS_LAUNCH_ID=#{processLaunchId},PROCESS_DEPLOY_ID=#{processDeployId},NAME=#{name},REPORTTIME=#{reportTime},OWNER=#{owner},LOCATION=#{location},DESCRIPTION=#{description},UPDATE_BY=#{updateBy},UPDATE_DATE=#{updateDate},STATUS=#{status}
		WHERE ID=#{id}
	</insert>
	<insert id="delete" parameterType="java.lang.String">
		delete from CASE_INFO where id = #{id}
	</insert>
	<insert id="deleteByIds" parameterType="java.util.List">
		<![CDATA[
            delete from CASE_INFO where id in
        ]]>
		<foreach collection="list" item="ids" open="(" separator="," close=")">
			#{ids}
		</foreach>
	</insert>
	<select id="getById" resultType="com.hangu.emes.entity.CaseInfo" parameterType="java.lang.String">
		SELECT 
			ID id,VERSION version,PI_ID processInstanceId,PROCESS_LAUNCH_ID processLaunchId,PROCESS_DEPLOY_ID processDeployId,
				NAME name,REPORTTIME reportTime,OWNER owner,LOCATION location,DESCRIPTION description,
			CREATE_DATE createDate,CREATE_BY createBy,UPDATE_BY updateBy,UPDATE_DATE updateDate,STATUS status
		FROM CASE_INFO
		WHERE ID=#{id}
	</select>
	<select id="getAll" resultType="com.hangu.emes.entity.CaseInfo" parameterType="java.lang.String">
		SELECT 
			ID id,VERSION version,PI_ID processInstanceId,PROCESS_LAUNCH_ID processLaunchId,PROCESS_DEPLOY_ID processDeployId,
				NAME name,REPORTTIME reportTime,OWNER owner,LOCATION location,DESCRIPTION description,
			CREATE_DATE createDate,CREATE_BY createBy,UPDATE_BY updateBy,UPDATE_DATE updateDate,STATUS status
		FROM CASE_INFO
		ORDER BY CREATEDATE DESC
	</select>

	<select id="selectPage" resultType="com.hangu.emes.entity.CaseInfo" useCache="true">
		SELECT 
			ID id,VERSION version,PI_ID processInstanceId,PROCESS_LAUNCH_ID processLaunchId,PROCESS_DEPLOY_ID processDeployId,
				NAME name,REPORTTIME reportTime,OWNER owner,LOCATION location,DESCRIPTION description,
			CREATE_DATE createDate,CREATE_BY createBy,UPDATE_BY updateBy,UPDATE_DATE updateDate,STATUS status
		FROM CASE_INFO
		WHERE 1=1
		ORDER BY CREATE_DATE DESC
	</select>
	<select id="selectPageCount" resultType="long">
		SELECT COUNT(id) FROM CASE_INFO ORDER BY CREATE_DATE DESC
	</select>

</mapper>